# -*- coding: utf-8 mode: shell-script -*-
# $Id$

Test       : Linear Response Polarizabilities
Author     : Xavier Andrade
Date       : 18.10.05
Arch       : Linux bizet 2.6.8-2-686 #1 Thu May 19 17:53:30 JST 2005 i686 GNU/Linux
Release    : 3.0.0pre1
Programs   : octopus
TestGroups : short-run
Enabled    : Yes

Input: 14-h2o_pol_lr.01_h2o_gs.inp

Match ; Total energy               ; sed -n '/^Energy/{n\;p\;}' static/info ; \s*Total\s*=\s*-16.06
Match ; Ground state eigenvalues   ; sed -n '/Eigenvalues \[/{n\;n\;p\;}' static/info | tail -1 ; \s*-1.16\d*\s*2.0000\d* 

Input: 14-h2o_pol_lr.02_h2o_dyn_pol.inp
Match ; Polarizability XX w=0.0    ; head -2 linear/freq_0.0000/alpha | tail -1 ; \s*15.
Match ; Polarizability YY w=0.0    ; head -3 linear/freq_0.0000/alpha | tail -1 ; \s*12.
Match ; Polarizability ZZ w=0.0    ; head -4 linear/freq_0.0000/alpha | tail -1 ; \s*23.

Match ; Polarizability XX w=0.1    ; head -2 linear/freq_0.1000/alpha | tail -1 ; \s*15.
Match ; Polarizability YY w=0.1    ; head -3 linear/freq_0.1000/alpha | tail -1 ; \s*12.
Match ; Polarizability ZZ w=0.1    ; head -4 linear/freq_0.1000/alpha | tail -1 ; \s*29.

Input: 14-h2o_pol_lr.03_h2o_dyn_pol_cmplx.inp
Match ; Restart                    ; grep -c "Could not load response wave-functions" out ; \s*12
Match ; Polarizability XX w=0.0    ; head -2 linear/freq_0.0000/alpha | tail -1 ; \s*15.
Match ; Polarizability YY w=0.0    ; head -3 linear/freq_0.0000/alpha | tail -1 ; \s*12.
Match ; Polarizability ZZ w=0.0    ; head -4 linear/freq_0.0000/alpha | tail -1 ; \s*23.
 
Match ; Polarizability XX w=0.1    ; head -2 linear/freq_0.1000/alpha | tail -1 ; \s*15.
Match ; Polarizability YY w=0.1    ; head -3 linear/freq_0.1000/alpha | tail -1 ; \s*12.
Match ; Polarizability ZZ w=0.1    ; head -4 linear/freq_0.1000/alpha | tail -1 ; \s*29.

Match ; Cross section     w=0.1    ; grep -v \# linear/freq_0.1000/cross_section ; \s*0.689

Match ; Hyperpolarizability w=0.0  ; grep //\ y  linear/freq_0.0000/beta ; \s*0.233
Match ; Hyperpolarizability w=0.1  ; grep //\ y linear/freq_0.1000/beta ; \s*0.867

Input: 14-h2o_pol_lr.04_h2o_susc.inp
Match; Paramagnetic susceptibility ; head -5  linear/freq_0.0000/susceptibility | tail -1 ; \s*30.00
Match; Diamagnetic susceptibility  ; head -11 linear/freq_0.0000/susceptibility | tail -1 ; \s*-215.36
Match; Total susceptibility        ; head -17 linear/freq_0.0000/susceptibility | tail -1 ; \s*-185.3
