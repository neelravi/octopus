#Script for building Trilinos on Karen's Mac joda.
#This is a 64-bit installation.
#NOTE:  Read build_trilinos_README.txt in this directory.
set path=(/Users/kddevin/code/lib-m64/lam-7.1.4/bin $path)
setenv CC /Users/kddevin/code/lib-m64/lam-7.1.4/bin/mpicc
setenv CXX /Users/kddevin/code/lib-m64/lam-7.1.4/bin/mpic++
setenv F77 /Users/kddevin/code/lib-m64/lam-7.1.4/bin/mpif77
setenv CFLAGS -m64
setenv CXXFLAGS -m64
setenv CPPFLAGS -m64
setenv FFLAGS -m64
#setenv LDFLAGS -m64

../configure -C \
  --prefix=/Users/kddevin/code/trilinos-8.0.4/Obj_mac64 \
  --enable-mpi --with-mpi-compilers \
  --enable-isorropia \
  --enable-default-packages \
  --enable-anasazi \
  --with-gnumake \
  --with-zoltan \
  --with-epetraext-zoltan \
  --with-ml_zoltan \
  --with-ml_metis \
  --with-ml_parmetis3x \
  --with-incdirs="-I/Users/kddevin/code/Zoltan_v3.bugfix/include -I/Users/kddevin/code/lib-m64/ParMETIS3_1 -I/Users/kddevin/code/lib-m64/ParMETIS3_1/METISLib" \
  --with-libs="-framework vecLib -L/Users/kddevin/code/Zoltan_v3.bugfix/Obj_mac64 -lzoltan -L/Users/kddevin/code/lib-m64/ParMETIS3_1 -lparmetis -lmetis -L/Users/kddevin/code/lib-m64/PaToH/lib -lpatoh" \
  --with-cxxflags="-DLAM_BUILDING" |& tee KDD.C
make everything |& tee KDD.M
make install |& tee KDD.I
